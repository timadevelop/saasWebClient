<div class="wrapper">
  <div nz-row class="header">
    <nz-list-item>
      <nz-list-item-meta [nzTitle]="titleTemplate" [nzAvatar]="avatarTemplate" [nzDescription]="descriptionTemplate">
        <ng-template #titleTemplate>
          <a>First name</a>
        </ng-template>
        <ng-template #avatarTemplate>
          <nz-avatar [nzSize]="48" nzIcon="user" [nzSrc]="null"></nz-avatar>
        </ng-template>
        <ng-template #descriptionTemplate>
          <span>Some desc</span>
        </ng-template>
      </nz-list-item-meta>
    </nz-list-item>
  </div>

  <!-- msgs -->
  <div nz-row class="conversation-wrapper">
    <div nz-col class="conversation" nzSpan="24">
      <div nz-row class="conversation-messages" #conversationMessages>
        <div nz-col>
          <div nz-row style="text-align: center;">
            <small>conversation start</small>
          </div>
          <div *ngFor="let i of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16, 17, 18, 19, 20, 21,22,23,24,25,26,27]"
            [class.right]="i%3 == 0" class="message" [class.same-author]="(i-1)%3 != 0" nz-row nzType="flex"
            nzJustify="start" nzAlign="bottom">
            <div nz-col class="message-author">
              <!-- TODO: routerlink -->
              <nz-avatar *ngIf="(i-1)%3 != 0" [nzSize]="32" nzIcon="user" [nzSrc]="null"></nz-avatar>
            </div>
            <div nz-col class="message-content">
              <span class="message-text">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio architecto odit possimus similique
                facilis quas quam sunt! A quo rerum illo sapiente! Fugiat odio unde dignissimos quos minus temporibus a!
                {{i}} :)
              </span>
              <!-- images TODO -->
            </div>
          </div>
          <div *ngFor="let msg of messages; let i = index"
            [class.right]="i%3 == 0" class="message" [class.same-author]="(i-1)%3 != 0" nz-row nzType="flex"
            nzJustify="start" nzAlign="bottom">
            <div nz-col class="message-author">
              <!-- TODO: routerlink -->
              <nz-avatar *ngIf="(i-1)%3 != 0" [nzSize]="32" nzIcon="user" [nzSrc]="null"></nz-avatar>
            </div>
            <div nz-col class="message-content">
              <span class="message-text">{{msg}}</span>
              <!-- images TODO -->
            </div>
          </div>
        </div>
      </div>
      <div nz-row class="conversation-input" nzType="flex" nzJustify="space-between" nzAlign="middle">
        <div nz-col nzSpan="20">
          <input class="message-input" #messageInput nz-input placeholder="Type new message" type="text">
        </div>
        <div nz-col nzSpan="4">
          <div class="actions">
            <i nz-icon type="paper-clip"></i>
            <i nz-icon type="picture"></i>
            <i nz-icon type="message" class="send-message-button" (click)="sendMsg(messageInput.value)"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
