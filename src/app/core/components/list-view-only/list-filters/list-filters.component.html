<div class="ordering-filters">
  <nz-divider nzText="Сотриране" nzOrientation="left"></nz-divider>
  <app-ordering-filter></app-ordering-filter>
</div>
<div class="price-filters">
  <nz-divider nzText="Цена" nzOrientation="left"></nz-divider>
  <app-price-filter></app-price-filter>
</div>
<div class="category-filters">
  <nz-divider nzText="Категория" nzOrientation="left"></nz-divider>
  <div class="categories-list">
    <app-category-selector></app-category-selector>
  </div>
</div>
<div class="tag-filters">
  <nz-divider nzText="Тагове" nzOrientation="left"></nz-divider>
  <div class="tags">
    <div class="selected-tags">
      <nz-tag [nzColor]="tag.color" *ngFor="let tag of selectedTags; trackBy:trackIdentifyByItemId"
        (nzCheckedChange)="clickedTag(tag.name)" [nzChecked]="true" nzMode="checkable">
        {{tag.name}}</nz-tag>
      <nz-tag *ngIf="!selectedTags || selectedTags.length === 0">no selected tags</nz-tag>
    </div>

    <input class="tags-search-input" (input)="searchTags($event.target.value)" nz-input placeholder="Search tags"
      nzSize="small" />
    <div class="loaded-tags">
      <nz-tag [nzColor]="selectedTagStrings?.includes(tag.name) ? tag.color : 'geekblue'"
        *ngFor="let tag of tags?.results;" (nzCheckedChange)="clickedTag(tag.name)"
        [nzChecked]="selectedTagStrings?.includes(tag.name)" nzMode="checkable">
        {{tag.name}}</nz-tag>
      <nz-tag *ngIf="tags?.next" (click)="loadMoreTags()" nzColor="purple">load more</nz-tag>
    </div>
  </div>
</div>

<ng-template #title>
  <h3 style="margin: 0;" class="title">Filters</h3>
</ng-template>
<ng-template #extra>
  <!-- <a (click)="openDetailedFilters()">More filters</a> -->
</ng-template>
<nz-drawer [nzClosable]="true" [nzVisible]="visibleFilterDetails" nzPlacement="right" nzTitle="Detailed filters"
  (nzOnClose)="closeDetailedFilters()" [nzWidth]="'40%'">
  <p>Some contents...</p>
  <p>Some contents...</p>
  <p>Some contents...</p>
</nz-drawer>
